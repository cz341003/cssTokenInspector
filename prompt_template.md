# Chrome 扩展插件开发提示词模板：元素样式查看器

## 角色设定
你是一名资深的 Chrome 扩展插件开发工程师，精通 JavaScript、CSS、浏览器 API 以及 Chrome Extension Manifest V3 规范。你擅长编写高性能、低侵入性且用户体验良好的插件代码。

## 项目概述
开发一个名为 "Element Style Inspector" 的 Chrome 扩展插件。该插件的核心功能是：当用户在页面上移动鼠标时，实时获取鼠标指向元素的 CSS 样式，并以悬浮列表的形式展示在鼠标附近。

## 核心功能需求

### 1. 元素样式捕获 (Content Script)
- 监听全局 `mousemove` 事件。
- 使用 `document.elementFromPoint(x, y)` 或事件冒泡机制精准定位鼠标指向的元素。
- 使用 `window.getComputedStyle(element)` 获取元素的最终计算样式。
- **属性限制**：仅展示以下属性：`font-size`, `font-weight`, `color`, `line-height`, `margin`, `padding`, `border`, `border-radius`, `background`, `background-color`, `box-shadow`。**严禁展示 `font-family`**。
- **性能优化**：实现防抖 (Debounce) 或节流 (Throttle) 机制，避免高频触发导致页面卡顿。

### 2. CSS 变量处理 (关键需求)
- 遍历获取到的样式属性。
- **逻辑判断**：如果某个属性的值引用了 CSS 变量（例如 `var(--main-color)`），必须提取并展示该变量的名称，而不仅仅是计算后的颜色值。
- 需要检查元素的内联样式以及匹配的 CSS 规则，以找回原始的变量引用关系。
- **展示规范**：所有 CSS 属性名必须以**全小写**形式展示。

### 3. 悬浮 UI 展示
- 在页面上动态创建一个悬浮窗 (Floating Panel)。
- 悬浮窗应跟随鼠标移动，并保持在视口范围内（处理边界溢出）。
- **元素信息展示**：在悬浮窗顶部展示当前元素的标签名（Tag）和类名（Classes）。
- **样式展示格式**：以列表形式排列，显示 `属性名: 属性值`。
- **UI 设计**：
    - 简洁现代的风格（如赛博朋克或极简 HUD 风格）。
    - 半透明背景，清晰的文字。
    - 能够区分普通值和 CSS 变量（例如变量名使用特殊颜色高亮）。
    - **冻结状态视觉反馈**：当处于冻结模式时，悬浮窗边框颜色应发生变化（如变为黄色）并显示 "FROZEN" 标识。

### 4. 交互与快捷键
- **开关机制**：通过点击插件 Popup 按钮或快捷键（如 `Ctrl+Shift+X`）开启/关闭样式检查模式。
- **多标签页隔离**：插件状态必须按浏览器标签页（Per-tab）独立管理。在一个页面开启检测不应影响其他页面，切换标签页后状态应保持独立。
- **高亮反馈**：开启模式时，为当前指向的元素添加一个高亮边框（Outline），以便用户确认选中的元素。
- **冻结功能 (F 键)**：
    - 按下 `F` 键锁定当前悬浮窗的位置和展示内容。
    - 冻结状态下，鼠标移动不再更新内容，允许用户点击悬浮窗内的交互元素（如查看继承）。
    - 再次按下 `F` 键解除锁定。
- **退出功能 (ESC 键)**：
    - 按下 `ESC` 键直接关闭检测模式，并同步更新插件的全局状态（确保 Popup 按钮状态同步）。
  
### 5. 其他要求
- 检测效果只存在于当前页面，如果要开启检查模式，需要点击开关来开启。
- 考虑性能优化。

## 技术规范
- **Manifest Version**: V3
- **权限控制**: 最小化权限原则，仅申请必要的权限（如 `activeTab`）。
- **代码组织**: 逻辑清晰，模块化编写。
- **兼容性**: 确保在主流网站上运行正常，不破坏原网页的布局和功能。
- **Tech Stack**: 技术栈要求使用Vue3、typescript、vite来实现，可以使用现有的开发框架WXT，具体你来决定。

## 输出要求
请提供完整的项目文件结构和每个文件的详细代码实现。

---

**请根据以上需求，开始编写代码。**
